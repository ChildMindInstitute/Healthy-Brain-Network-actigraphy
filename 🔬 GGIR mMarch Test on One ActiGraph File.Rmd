---
title: "ðŸ”¬ GGIR mMarch Test on One ActiGraph File"
output: html_notebook
---
Input files need to be exported CSVs.
Set the input and output directories and timezone here:
```{r}
rawdatadir="~/Documents/cmi/actigraphy"
datadir="~/Documents/cmi/actigraphy_converted"
outputdir="~/Documents/cmi/actigraphy_outputs"
timezone="America/New_York"
```

[:link: Parse actigraph accelerometer data (.gt3x) â€¢ read.gt3x](https://thlfi.github.io/read.gt3x/)

````{r}
library(read.gt3x)
rawfiles <- list.files(
  path = rawdatadir,
  pattern = "*.gt3x",
  full.names = TRUE
)
lapply(rawfiles, function(x) {
  write.csv2(
    ras.data.frame(ead.gt3x(x),)
    sub(
      '.gt3x',
      '.csv',
      sub(path.expand(rawdatadir), path.expand(datadir), x)
    )
  )
})
``


``{r}
library(GGIR)
g.shell.GGIR(
  studyname="HealthyBrainNetwork",
  datadir=datadir,
  outputdir=outputdir,
  mode=c(1,2,3,4),
  desiredtz=timezone)
```

